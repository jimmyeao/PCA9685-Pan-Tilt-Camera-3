
    <html>
        <head>
            <style>
                .btn {
                    width: 80px;
                    height: 40px;
                    font-size: 20px;
                    margin: 10px;
                }
            </style>
        </head>
        <body>
            <h1>Pan Tilt Control</h1>
            <button class="btn" id="left">Left</button>
            <button class="btn" id="right">Right</button>
            <button class="btn" id="up">Up</button>
            <button class="btn" id="down">Down</button>
            <button class="btn" id="home">Home</button>
            
<script>
  const home = document.getElementById("home");
  home.addEventListener("click", () => {
    fetch("/start_home", {method: "POST"});
  });
</script>

            <script>
                const left = document.getElementById("left");
                const right = document.getElementById("right");
                const up = document.getElementById("up");
                const down = document.getElementById("down");
                let x = 90;
                let y = 90;
                
                left.addEventListener("mousedown", () => {
                    const interval = setInterval(() => {
                        if (x > 0) {
                            x -= 1;
                            fetch("/left", {method: "POST"});
                        }
                    }, 50);
                    left.addEventListener("mouseup", () => clearInterval(interval));
                });
                right.addEventListener("mousedown", () => {
                    const interval = setInterval(() => {
                        if (x < 180) {
                            x += 1;
                            fetch("/right", {method: "POST"});
                        }
                    }, 50);
                    right.addEventListener("mouseup", () => clearInterval(interval));
                });
                up.addEventListener("mousedown", () => {
                    const interval = setInterval(() => {
                        if (y < 180) {
                            y += 1;
                            fetch("/up", {method: "POST"});
                        }
                    }, 50);
                    up.addEventListener("mouseup", () => clearInterval(interval));
                });
                down.addEventListener("mousedown", () => {
                    const interval = setInterval(() => {
                        if (y > 0) {
                            y -= 1;
                            fetch("/down", {method: "POST"});
                        }
                    }, 50);
                    down.addEventListener("mouseup", () => clearInterval(interval));
                });
            </script>
            <img src="data:image/jpeg;base64,{{ image|safe }}"/>
        </body>
    </html>
 